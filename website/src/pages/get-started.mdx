import { Callout } from '@theguild/components';

# Get Started

Welcome to the GraphQL Education, the last GraphQL Academy. A different take on learning GraphQL through practical approach. Each module is isolated for convenience and efficiency.

The education modules are split into 3 different parts: the [database](/database/introduction), [server](/server/introduction) and [client](/client/introduction). Furthermore, each of the 3 parts can be further split into chapters implementing each of the [GraphQL schemas below](#schema).

## Prerequisites

You're expected to have at least elementary knowledge about:

- [Docker](https://www.docker.com/)
- [Node.js](https://nodejs.org/)
- [GraphQL](https://roadmap.sh/graphql)
- [TypeScript](https://www.typescriptlang.org/)

## Schema

All of the education modules chapters are based on the following data models.

### Basic

This schema showcases the basics of GraphQL and is used as the base for each of the following schemas.

```graphql filename="schema/basic.graphql"
type Query {
  """
  Retrieve a task by its ID.
  """
  task(id: ID!): Task
  """
  Retrieve available tasks. Optionally perform a fulltext search using the `searchText` argument.
  """
  filterTasks(searchText: String): [Task!]!
}

type Mutation {
  createTask(input: CreateTaskInput!): Task!
  updateTask(input: UpdateTaskInput!): Task!
  deleteTask(input: DeleteTaskInput!): Task!
}

type User {
  id: ID!
  name: String!
  email: String!
  """
  All tasks that have this user set as the assignee.
  """
  assignedTasks: [Task!]!
}

enum TaskStatus {
  TODO
  IN_PROGRESS
  DONE
}

type Task {
  id: ID!
  assigneeUserId: ID
  assignee: User
  status: TaskStatus!
  title: String!
  description: String
}

input CreateTaskInput {
  assigneeUserId: ID
  status: TaskStatus! = TODO
  title: String!
  description: String
}

input UpdateTaskInput {
  id: ID!
  assigneeUserId: ID
  status: TaskStatus!
  title: String!
  description: String
}

input DeleteTaskInput {
  id: ID!
}
```

### Subscriptions

Allows for real-time communication with the database notifying the consumer about certain changes. In this case, when a task is created or changed/updated.

<Callout>Extends the [basic schema](#basic).</Callout>

```graphql filename="schema/subscriptions.graphql"
type Subscription {
  taskCreated: Task!
  taskChanged(id: ID!): Task!
}
```

### Authentication

When developing applications, you'll often be faced with the requirement of authenticating a user. Authentication means identifying who the resource consumer is.

In addition to protecting resources, we can leverage the identity of the user to add more metadata to the database resources, like who created or changed what.

<Callout>Extends the [basic schema](#basic).</Callout>

```graphql filename="schema/authentication.graphql"
extend type Query {
  """
  The currently authenticated user.
  """
  me: User
}

extend type Mutation {
  login(email: String!, password: String!): User!
  register(input: RegisterInput!): User!
}

input RegisterInput {
  name: String!
  email: String!
  password: String!
}

extend type User {
  """
  All tasks that have been created by this user.
  """
  createdTasks: [Task!]!
}

extend type Task {
  """
  The authenticated user that created this task.
  """
  createdBy: User!
  createdByUserId: ID!
}
```

### Authorization

An authenticated a user can have further authorization requirements. These authorization policies often deal with who can see what and/or who can change what considering the resource details.

In this specific case, a task marked as `private` can only be viewed by the user who created it and the assigned user. While, only the creator can change the task itself.

<Callout>Extends the [authentication schema](#authentication).</Callout>

```graphql filename="schema/authorization.graphql"
extend type Task {
  """
  Private tasks can be viewed and modified only by the assignee or the user who created it.
  """
  private: Boolean!
}
```

## Ports

Some of the modules are exposed and communicated with over the network. All elements of modules will bind to the same ports for convenience:

- [Database](/database) uses the port **50000** ([http://localhost:50000](http://localhost:50000))
- [Server](/server) uses the port **50005** ([http://localhost:50005](http://localhost:50005))
